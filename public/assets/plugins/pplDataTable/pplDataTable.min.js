!function(e){e.fn.pplDataTable=function(t){let l=e(this);var a=null;t=e.extend({processing:!0,serverSide:!1,pageLength:10,responsive:!0,async drawCallback(e){},async createdRow(e,t,l){},async footerCallback(e,t,l,a,n){},async formatNumber(e){},async headerCallback(e,t,l,a,n){},infoCallback:void 0,async initComplete(e,t){},async preDrawCallback(e){},async rowCallback(e,t){},buttonColorClass:"btn-outline-dark",buttons:["pageLength","copy","csv","excel","pdf","print","settings"],lengthMenu:[[10,25,50,100,250,500,-1],[10,25,50,100,250,500,"All"]],ajax:"",columns:[],permissions:{add:0,view:0,edit:0,delete:0,copy:0,excel:0,csv:0,print:0,pdf:0,restore:0,showpwd:0},tableName:""},t);let n={input:(e={})=>d("input",e),div:(e={})=>d("div",e),span:(e={})=>d("span",e),ul:(e={})=>d("ul",e),li:(e={})=>d("li",e),img:(e={})=>d("img",e),h1:(e={})=>d("h1",e),h2:(e={})=>d("h2",e),h3:(e={})=>d("h3",e),h4:(e={})=>d("h4",e),h5:(e={})=>d("h5",e),h6:(e={})=>d("h6",e),p:(e={})=>d("p",e),button:(e={})=>d("button",e),table:(e={})=>d("table",e),thead:(e={})=>d("thead",e),tbody:(e={})=>d("tbody",e),tfoot:(e={})=>d("tfoot",e),tr:(e={})=>d("tr",e),th:(e={})=>d("th",e),td:(e={})=>d("td",e),select:(e={})=>d("select",e),selectOption:(e={})=>d("option",e),a:(e={})=>d("a",e),label:(e={})=>d("label",e),option:(e={})=>d("option",e),link:(e={})=>d("link",e),script:async(e={})=>d("script",e),checkBox:async(e={})=>d("checkBox",e)},d=(e,t)=>{let l=document.createElement(e);for(let a in t)t.hasOwnProperty(a)&&l.setAttribute(a,t[a]);return l};var i={tableSize:"",background:"",sortingBy:0,sortingOrder:"desc",height:"",fixedColumns:{left:0,right:0},isFixedHeading:!1,isFixedColumns:!1,isSearchEnabled:!1,isPageInfoEnabled:!1,isPaginationEnabled:!0,tableID:"",header:[]},s={},o=null;let r=async()=>await new Promise(async(l,a)=>{e.ajax({async:!0,type:"post",url:t.tableConfig.get,data:{tableName:t.tableName},headers:{"X-CSRF-Token":t.csrfToken},async error(e,t,l,n){a()},async success(e){let t=[];e.status&&(t=e.config),await g(t),l([])}})}),c=async()=>{e.ajax({async:!0,type:"post",url:t.tableConfig.save,headers:{"X-CSRF-Token":t.csrfToken},data:{config:JSON.stringify(i),tableName:t.tableName},error:function(e,t,l,a){reject()},success:function(e){}})},p=async()=>{try{i.tableID=""!=i.tableID&&void 0!=i.tableID?u():i.tableID,a=n.table({class:"table "+i.tableSize,id:i.tableID}),l.append(a);let e=n.thead();a.appendChild(e);let t=n.tbody();a.appendChild(t);let d=async()=>{try{if(void 0!=i.header)for(let t of i.header){let l=n.tr({});for(let a of(e.appendChild(l),t)){let d=void 0!=a.attr?a.attr:[],s=n.th(d);s.classList.add("text-"+a.align),s.innerHTML=a.headingName,l.appendChild(s)}}}catch(o){console.log(o)}},s=async()=>{try{if(void 0!=i.footer&&i.footer.length>0){let e=n.tfoot();for(let t of(a.appendChild(e),i.footer)){let l=n.tr({});for(let d of(e.appendChild(l),t)){let s=void 0!=d.attr?d.attr:[],o=n.th(s);o.classList.add("text-"+d.align),o.innerHTML=d.headingName,l.appendChild(o)}}}}catch(r){console.log(r)}};d(),s()}catch(o){console.log(o)}},u=()=>{var e=new Date().getTime();return"ppl-xxxxxxxxxxx-xx".replace(/[xy]/g,function(t){var l=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?l:3&l|8).toString(16)})},h=async(e,t,l)=>{for(;e.length<l;)e=t+e;return e},b=async(e,t=null)=>{let l=await h((t=null==t?new Date:t).getDate().toString(),"0",2),a=t.getMonth(),n=await h((a+1).toString(),"0",2),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a],i=t.getFullYear(),s=t.getFullYear().toString().substr(-2),o=t.getHours(),r=t.getMinutes(),c=t.getSeconds(),p=o,u=e.toString().trim().substr(-1),b="am";if(o>=12&&(b="pm"),"A"==u&&(b=b.toString().toUpperCase()),o>12&&(p-=12),o=h(o.toString(),"0",2),p=h(p.toString(),"0",2),r=h(r.toString(),"0",2),c=h(c.toString(),"0",2),"d/M/Y"==e)return`${l}/${d}/${i}`;if("d-M-Y"==e)return`${l}-${d}-${i}`;if("d-m-Y"==e)return`${l}-${n}-${i}`;if("d/m/Y"==e)return`${l}/${n}/${i}`;if("d-m-y"==e)return`${l}-${n}-${s}`;else if("d/m/y"==e)return`${l}/${n}/${s}`;else if("Y-M-d"==e)return`${i}-${d}-${l}`;else if("Y/M/d"==e)return`${i}/${d}/${l}`;else if("Y-m-d"==e)return`${i}-${n}-${l}`;else if("Y/m/d"==e)return`${i}/${n}/${l}`;else if("y-m-d"==e)return`${s}-${n}-${l}`;else if("y/m/d"==e)return`${s}/${n}/${l}`;else if("M d,Y"==e)return`${d} ${l}, ${i}`;else if("h:i:s A"==e)return`${p}:${r}:${c} ${b}`;else if("h:i:s a"==e)return`${p}:${r}:${c} ${b}`;else if("H:i:s"==e)return`${o}:${r}:${c}`;else return`${l}-${d}-${i} ${o}:${r}:${c}`},g=async t=>{let l=e.extend({tableSize:"table-sm",background:"none",sortingBy:1,sortingOrder:"asc",height:"400",fixedColumns:{left:0,right:0},isFixedHeading:"Disabled",isFixedColumns:"Disabled",isSearchEnabled:"Enabled",isPageInfoEnabled:"Enabled",isPaginationEnabled:"Enabled",isSearchBuilderEnabled:"Disabled",searchBuilderText:"Custom Filter",searchBuilderLabel:"",defaultPageLength:"10",pageLength:"10"},t);return l.footer=void 0!=l.footer?l.footer:[],l.header=void 0!=l.header?l.header:[],e.each(l.header,function(t,a){e.each(a,function(a,n){l.header[t][a]=e.extend({columnName:"Column "+a,headingName:"Column "+a,display:"Show",align:"left",searchBuilder:{status:"Disabled",type:"string"},attr:{},others:{type:"",format:""}},n)})}),i=l,l},m=async()=>{s=i;let l=u(),a=document.querySelector("body"),d=n.div({class:"modal fade dt-customize-options",id:l,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"});a.appendChild(d);let o=n.div({class:"modal-dialog modal-dialog-centered modal-xl modal-fullscreen-md-down modal-dialog-scrollable"});d.appendChild(o);let r=n.div({class:"modal-content"});o.appendChild(r);let p=async()=>{let e=n.div({class:"modal-header"});r.appendChild(e);let t=n.h5({class:"modal-title"});t.innerHTML="Table Settings",e.appendChild(t);let l=n.button({type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"});e.appendChild(l)},h=async()=>{let a=n.div({class:"modal-body"});r.appendChild(a);let d=async a=>{let d=n.div({class:"tab-content",id:l+"-tabContent"});a.appendChild(d);let i=async()=>{let a=n.div({class:"tab-pane fade show active",id:l+"-general",role:"tabpanel","aria-labelledby":"general-home-tab"});d.appendChild(a);let i=async()=>{let t=n.div({class:"row justify-content-center mt-20"});a.appendChild(t);let l=n.div({class:"col-6 col-lg-3 align-items-center"});t.appendChild(l);let d=n.label({});d.innerHTML="Fixed Header",l.appendChild(d);let i=n.div({class:"col-6 col-lg-4"});t.appendChild(i);let o=n.div({class:"form-group"});i.appendChild(o);let r=n.div({class:"input-group"});o.appendChild(r);let c=n.div({class:"input-group-text"});r.appendChild(c);let p=n.input({class:"form-check-input mt-0",type:"checkbox",value:""});c.appendChild(p);let u=n.input({type:"number",class:"form-control",id:"txtHeight",disabled:"true",value:s.height});r.appendChild(u),u.addEventListener("keyup",function(){s.height=u.value});let h=n.span({class:"input-group-text"});h.innerHTML="px",r.appendChild(h),e(p).on("click",function(){e(p).prop("checked")?(s.isFixedHeading="Enabled",e(u).removeAttr("disabled")):(s.isFixedHeading="Disabled",e(u).attr("disabled","disabled"))}),"Enabled"==s.isFixedHeading&&e(p).trigger("click")},o=async()=>{let t=n.div({class:"row justify-content-center mt-20"});a.appendChild(t);let l=n.div({class:"col-6 col-lg-3 align-items-center"});t.appendChild(l);let d=n.label({});d.innerHTML="Fixed Columns",l.appendChild(d);let i=n.div({class:"col-6 col-lg-4"});t.appendChild(i);let o=n.div({class:"form-group"});i.appendChild(o);let r=n.div({class:"input-group"});o.appendChild(r);let c=n.div({class:"input-group-text"});r.appendChild(c);let p=n.input({class:"form-check-input mt-0",type:"checkbox",value:""});c.appendChild(p);let u=n.span({class:"input-group-text"});u.innerHTML="Left",r.appendChild(u);let h=n.input({type:"number",class:"form-control",step:1,id:"txtFixedLeftColumns",value:s.fixedColumns.left,disabled:!0});r.appendChild(h),h.addEventListener("keyup",function(){s.fixedColumns.left=h.value});let b=n.span({class:"input-group-text"});b.innerHTML="Right",r.appendChild(b);let g=n.input({type:"number",class:"form-control",step:1,id:"txtFixedRightColumns",value:s.fixedColumns.right,disabled:!0});r.appendChild(g),g.addEventListener("keyup",function(){s.fixedColumns.right=g.value}),e(p).on("click",function(){e(p).prop("checked")?(s.isFixedColumns="Enabled",e(h).removeAttr("disabled"),e(g).removeAttr("disabled")):(s.isFixedColumns="Disabled",e(h).attr("disabled","disabled"),e(g).attr("disabled","disabled"))}),"Enabled"==s.isFixedColumns&&e(p).trigger("click")},r=async()=>{let e=n.div({class:"row justify-content-center mt-20"});a.appendChild(e);let t=n.div({class:"col-6 col-lg-3 align-items-center"});e.appendChild(t);let l=n.label({});l.innerHTML="Search",t.appendChild(l);let d=n.div({class:"col-6 col-lg-4"});e.appendChild(d);let i=n.div({class:"form-group"});d.appendChild(i);let o=n.select({class:"form-control"});i.appendChild(o);let r=n.option({value:"Enabled"});r.innerHTML="Enabled",o.appendChild(r),"Enabled"==s.isSearchEnabled&&r.setAttribute("selected","selected");let c=n.option({value:"Disabled"});c.innerHTML="Disabled",o.appendChild(c),"Disabled"==s.isSearchEnabled&&c.setAttribute("selected","selected"),o.addEventListener("change",function(){s.isSearchEnabled=o.value})},c=async()=>{let t=n.div({class:"row justify-content-center mt-20"});a.appendChild(t);let l=n.div({class:"col-6 col-lg-3 align-items-center"});t.appendChild(l);let d=n.label({});d.innerHTML="Custom Search",l.appendChild(d);let i=n.div({class:"col-6 col-lg-4"});t.appendChild(i);let o=n.div({class:"form-group"});i.appendChild(o);let r=n.select({class:"form-control"});o.appendChild(r);let c=n.option({value:"Enabled"});c.innerHTML="Enabled",r.appendChild(c),"Enabled"==s.isSearchBuilderEnabled&&c.setAttribute("selected","selected");let p=n.option({value:"Disabled"});p.innerHTML="Disabled",r.appendChild(p),"Disabled"==s.isSearchBuilderEnabled&&p.setAttribute("selected","selected"),r.addEventListener("change",function(){s.isSearchBuilderEnabled=r.value,"Disabled"==r.value?(e("table.tblsettings-columns .lstSearchBuilder:not([data-col-name='Action'])").attr("disabled","disabled"),e("table.tblsettings-columns .lstSearchBuilder:not([data-col-name='Action'])").val("Disabled").trigger("change")):(e("table.tblsettings-columns .lstSearchBuilder:not([data-col-name='Action'])").removeAttr("disabled"),e("table.tblsettings-columns .lstSearchBuilder:not([data-col-name='Action'])").val("Enabled").trigger("change"))})},p=async()=>{let e=n.div({class:"row justify-content-center mt-20"});a.appendChild(e);let t=n.div({class:"col-6 col-lg-3 align-items-center"});e.appendChild(t);let l=n.label({});l.innerHTML="Page Info",t.appendChild(l);let d=n.div({class:"col-6 col-lg-4"});e.appendChild(d);let i=n.div({class:"form-group"});d.appendChild(i);let o=n.select({class:"form-control"});i.appendChild(o);let r=n.option({value:"Enabled"});r.innerHTML="Enabled",o.appendChild(r),"Enabled"==s.isPageInfoEnabled&&r.setAttribute("selected","selected");let c=n.option({value:"Disabled"});c.innerHTML="Disabled",o.appendChild(c),"Disabled"==s.isPageInfoEnabled&&c.setAttribute("selected","selected"),o.addEventListener("change",function(){s.isPageInfoEnabled=o.value})},u=async()=>{let l=n.div({class:"row justify-content-center mt-20"});a.appendChild(l);let d=n.div({class:"col-6 col-lg-3 align-items-center"});l.appendChild(d);let i=n.label({});i.innerHTML="Pagination",d.appendChild(i);let o=n.div({class:"col-6 col-lg-4"});l.appendChild(o);let r=n.div({class:"form-group"});o.appendChild(r);let c=n.div({class:"input-group"});r.appendChild(c);let p=n.select({class:"form-control"});c.appendChild(p);let u=n.option({value:"Enabled"});u.innerHTML="Enabled",p.appendChild(u),"Enabled"==s.isPaginationEnabled&&u.setAttribute("selected","selected");let h=n.option({value:"Disabled"});h.innerHTML="Disabled",p.appendChild(h),"Disabled"==s.isPaginationEnabled&&h.setAttribute("selected","selected");let b=n.select({class:"form-control",disabled:"disabled"});c.appendChild(b);let g=t.lengthMenu;for(let m=0;m<g[0].length;m++){let f=n.option({value:g[0][m]});f.innerHTML=void 0==g[1][m]?"":g[1][m],b.appendChild(f),s.pageLength==g[0][m]&&f.setAttribute("selected","selected")}b.addEventListener("change",function(){s.pageLength=b.value}),p.addEventListener("change",function(){C()});let C=async()=>{s.isPaginationEnabled=p.value,"Disabled"==p.value?(s.pageLength="-1",e(b).attr("disabled","disabled")):(s.pageLength=s.defaultPageLength,e(b).removeAttr("disabled")),e(b).val(s.pageLength).trigger("change")};C()},h=async()=>{let e=n.div({class:"row justify-content-center mt-20"});a.appendChild(e);let t=n.div({class:"col-6 col-lg-3 align-items-center"});e.appendChild(t);let l=n.label({});l.innerHTML="Table Size",t.appendChild(l);let d=n.div({class:"col-6 col-lg-4"});e.appendChild(d);let i=n.div({class:"form-group"});d.appendChild(i);let o=n.select({class:"form-control"});i.appendChild(o);let r=n.option({value:"table-sm"});r.innerHTML="Small",o.appendChild(r),"table-sm"==s.tableSize&&r.setAttribute("selected","selected");let c=n.option({value:""});c.innerHTML="Default",o.appendChild(c),""==s.tableSize&&c.setAttribute("selected","selected");let p=n.option({value:"table-lg"});p.innerHTML="Large",o.appendChild(p),"table-lg"==s.tableSize&&p.setAttribute("selected","selected"),o.addEventListener("change",function(){s.tableSize=o.value})},b=async()=>{let e=n.div({class:"row justify-content-center mt-20"});a.appendChild(e);let t=n.div({class:"col-6 col-lg-3 align-items-center"});e.appendChild(t);let l=n.label({});l.innerHTML="Heading Background",t.appendChild(l);let d=n.div({class:"col-6 col-lg-4"});e.appendChild(d);let i=n.div({class:"form-group"});d.appendChild(i);let o=n.select({class:"form-control"});i.appendChild(o);let r=n.option({value:""});r.innerHTML="None",o.appendChild(r),""==s.background&&r.setAttribute("selected","selected");let c=n.option({value:"table-primary"});c.innerHTML="Primary",o.appendChild(c),"table-primary"==s.background&&c.setAttribute("selected","selected");let p=n.option({value:"table-secondary"});p.innerHTML="Secondary",o.appendChild(p),"table-secondary"==s.background&&p.setAttribute("selected","selected");let u=n.option({value:"table-success"});u.innerHTML="Success",o.appendChild(u),"table-success"==s.background&&u.setAttribute("selected","selected");let h=n.option({value:"table-danger"});h.innerHTML="Danger",o.appendChild(h),"table-danger"==s.background&&h.setAttribute("selected","selected");let b=n.option({value:"table-warning"});b.innerHTML="Warning",o.appendChild(b),"table-warning"==s.background&&b.setAttribute("selected","selected");let g=n.option({value:"table-info"});g.innerHTML="Info",o.appendChild(g),"table-info"==s.background&&g.setAttribute("selected","selected");let m=n.option({value:"table-light"});m.innerHTML="Light",o.appendChild(m),"table-light"==s.background&&m.setAttribute("selected","selected");let f=n.option({value:"table-dark"});f.innerHTML="Dark",o.appendChild(f),"table-dark"==s.background&&f.setAttribute("selected","selected"),o.addEventListener("change",function(){s.background=o.value})},g=async()=>{let e=n.div({class:"row justify-content-center mt-20"});a.appendChild(e);let t=n.div({class:"col-6 col-lg-3 align-items-center"});e.appendChild(t);let l=n.label({});l.innerHTML="Sorting",t.appendChild(l);let d=n.div({class:"col-6 col-lg-4"});e.appendChild(d);let i=n.div({class:"form-group"});d.appendChild(i);let o=n.div({class:"input-group"});i.appendChild(o);let r=n.select({class:"form-control lstSortingBy"});for(let c of(o.appendChild(r),s.header)){let p=0;for(let u of c){if("action"!==u.headingName.toLowerCase()){let h=n.option({value:p});h.innerHTML=u.headingName,r.appendChild(h),s.sortingBy==p&&h.setAttribute("selected","selected")}p++}}let b=n.select({class:"form-control lstSortingOrder"});o.appendChild(b);let g=n.option({value:"asc"});g.innerHTML="Ascending",b.appendChild(g),"asc"==s.sortingOrder&&g.setAttribute("selected","selected");let m=n.option({value:"desc"});m.innerHTML="Descending",b.appendChild(m),"desc"==s.sortingOrder&&m.setAttribute("selected","selected"),r.addEventListener("change",function(){s.sortingBy=r.value}),b.addEventListener("change",function(){s.sortingOrder=b.value})};i(),o(),r(),c(),p(),u(),h(),b(),g()},o=async()=>{let t=[{value:"d-M-Y",text:"d-M-Y ("+await b("d-M-Y")+")"},{value:"d/M/Y",text:"d/M/Y ("+await b("d/M/Y")+")"},{value:"d-m-Y",text:"d-m-Y ("+await b("d-m-Y")+")"},{value:"d/m/Y",text:"d/m/Y ("+await b("d/m/Y")+")"},{value:"d-m-y",text:"d-m-y ("+await b("d-m-y")+")"},{value:"d/m/y",text:"d/m/y ("+await b("d/m/y")+")"},{value:"Y-M-d",text:"Y-M-d ("+await b("Y-M-d")+")"},{value:"Y/M/d",text:"Y/M/d ("+await b("Y/M/d")+")"},{value:"Y-m-d",text:"Y-m-d ("+await b("Y-m-d")+")"},{value:"Y/m/d",text:"Y/m/d ("+await b("Y/m/d")+")"},{value:"y-m-d",text:"y-m-d ("+await b("y-m-d")+")"},{value:"y/m/d",text:"y/m/d ("+await b("y/m/d")+")"},{value:"M d,Y",text:"M d,Y ("+await b("M d,Y")+")"}],a=n.div({class:"tab-pane fade",id:l+"-column",role:"tabpanel","aria-labelledby":"general-column-tab"});d.appendChild(a);let i=n.div({class:"row"});a.appendChild(i);let o=n.div({class:"col-12 mt-20"});i.appendChild(o);let r=n.table({class:"table table-sm tblsettings-columns"});o.appendChild(r);let c=n.thead();r.appendChild(c);let p=n.tbody();r.appendChild(p);let u=async()=>{let e=n.tr();for(let t of(c.appendChild(e),["Column Name","Heading Name","Show/Hide","Align","Custom Search","Others"])){let l=n.th({class:"text-center"});l.innerHTML=t,e.appendChild(l)}},h=async()=>{let l=async t=>{try{let l=t.getAttribute("data-col-name"),a=null;if(s.header.length>0){for(let n=0;n<s.header[0].length;n++)if(s.header[0][n].columnName===l){a=n;break}if(void 0!=s.header[0][a]){let d=s.header[0][a];d.headingName=e('.tblsettings-columns tr[data-col-name="'+l+'"] .txtHName').val(),d.display=e('.tblsettings-columns tr[data-col-name="'+l+'"] .lstDisplay').val(),d.align=e('.tblsettings-columns tr[data-col-name="'+l+'"] .lstAlign').val(),d.searchBuilder.status=e('.tblsettings-columns tr[data-col-name="'+l+'"] .lstSearchBuilder').val(),""!=d.others.type&&(d.others.format=e('.tblsettings-columns tr[data-col-name="'+l+'"] .lstFormat').val()),s.header[0][a]=d}}}catch(i){console.log(i)}};for(let a of s.header)for(let d of a){let i=n.tr({"data-col-name":d.columnName});p.append(i);let o=n.td();o.innerHTML=d.columnName,i.appendChild(o);let r=n.td();i.appendChild(r);let c=n.input({type:"text",class:"form-control txtHName",value:d.headingName,"data-col-name":d.columnName});r.appendChild(c),c.addEventListener("keyup",function(e){l(e.target)});let u=n.td();i.appendChild(u);let h=n.select({class:"form-control lstDisplay","data-col-name":d.columnName});u.append(h);let b=n.selectOption({value:"Show"});b.innerHTML="Show",h.appendChild(b),"Show"==d.display&&b.setAttribute("selected","selected");let g=n.selectOption({value:"Hide"});g.innerHTML="Hide",h.appendChild(g),"Hide"==d.display&&g.setAttribute("selected","selected"),h.addEventListener("change",function(e){l(e.target)});let m=n.td();i.appendChild(m);let f=n.select({class:"form-control lstAlign","data-col-name":d.columnName});m.append(f);let C=n.selectOption({value:"left"});C.innerHTML="Left",f.appendChild(C),"left"==d.align&&C.setAttribute("selected","selected");let v=n.selectOption({value:"center"});v.innerHTML="Center",f.appendChild(v),"center"==d.align&&v.setAttribute("selected","selected");let y=n.selectOption({value:"right"});y.innerHTML="Right",f.appendChild(y),"right"==d.align&&y.setAttribute("selected","selected"),f.addEventListener("change",function(e){l(e.target)});let x=n.td();i.appendChild(x);let $=n.select({class:"form-control lstSearchBuilder","data-col-name":d.columnName});x.append($);let L=n.selectOption({value:"Enabled"});L.innerHTML="Enabled",$.appendChild(L),"Enabled"==d.searchBuilder.status&&L.setAttribute("selected","selected");let E=n.selectOption({value:"Disabled"});E.innerHTML="Disabled",$.appendChild(E),"Disabled"==d.searchBuilder.status&&E.setAttribute("selected","selected"),"action"==d.columnName.toString().toLowerCase()&&(e($).val("Disabled").trigger("change"),e($).attr("disabled","disabled")),$.addEventListener("change",function(e){l(e.target)});let M=n.td();if(i.appendChild(M),"date"==d.others.type){let T=n.select({class:"form-control lstFormat","data-col-name":d.columnName});for(let H of(M.append(T),t)){let S=n.selectOption({value:H.value});S.innerHTML=H.text,T.appendChild(S),d.others.format==H.value&&S.setAttribute("selected","selected")}T.addEventListener("change",function(e){l(e.target)})}else if("decimals"==d.others.type){let A=n.select({class:"form-control lstFormat text-sm","data-col-name":d.columnName});M.append(A);for(let w=0;w<=5;w++){let k=n.selectOption({value:w});k.innerHTML=w,A.appendChild(k),d.others.format==w&&k.setAttribute("selected","selected")}A.addEventListener("change",function(e){l(e.target)})}}"Disabled"==s.isSearchBuilderEnabled?(e("table.tblsettings-columns .lstSearchBuilder:not([data-col-name='Action'])").attr("disabled","disabled"),e("table.tblsettings-columns .lstSearchBuilder:not([data-col-name='Action'])").val("Disabled").trigger("change")):e("table.tblsettings-columns .lstSearchBuilder:not([data-col-name='Action'])").removeAttr("disabled")};u(),h()};i(),o()},i=async e=>{let t=n.ul({class:"nav nav-pills d-flex justify-content-center",id:l+"-tab",role:"tablist"});e.appendChild(t);let a=n.li({class:"nav-item",role:"presentation"});t.appendChild(a);let d=n.button({class:"nav-link active",id:l+"-general-tab","data-bs-toggle":"pill","data-bs-target":"#"+l+"-general",type:"button",role:"tab","aria-controls":l+"-general","aria-selected":"true"});d.innerHTML="General",a.appendChild(d);let i=n.li({class:"nav-item",role:"presentation"});t.appendChild(i);let s=n.button({class:"nav-link",id:l+"-column-tab","data-bs-toggle":"pill","data-bs-target":"#"+l+"-column",type:"button",role:"tab","aria-controls":l+"-column","aria-selected":"true"});s.innerHTML="Columns",i.appendChild(s)},o=n.div({class:"row"});a.appendChild(o);let c=n.div({class:"col-12"});o.appendChild(c),i(c),d(c)},g=async()=>{let e=n.div({class:"modal-footer"});r.appendChild(e);let t=n.button({type:"button",class:"btn btn-sm btn-outline-secondary","data-bs-dismiss":"modal"});t.innerHTML="Close",e.appendChild(t);let l=n.button({type:"button",class:"btn btn-sm btn-outline-primary"});l.innerHTML="Apply",e.appendChild(l),l.addEventListener("click",function(){i=s,c(),v.reinitialize()})};p(),h(),g(),e(d).modal("show")},f=async()=>{i.sortingBy=!1==isNaN(parseInt(i.sortingBy))?parseInt(i.sortingBy):0,e(a).find("thead tr").removeAttr("class").addClass(i.background);let l={},n=[],d=0,s={},r=[];try{if(i.header.length>0)for(column of i.header[0]){let c={targets:d,visible:"Show"==column.display,className:"dt-"+column.align};n.push(c),s[column.headingName]=d,l[d]=column.others,"Enabled"==i.isSearchBuilderEnabled&&void 0!=column.searchBuilder&&"Enabled"==column.searchBuilder.status&&"action"!=column.columnName.toString().toLowerCase()&&(c.searchBuilder=void 0==c.searchBuilder?{}:c.searchBuilder,c.searchBuilder.type=column.searchBuilder.type),"action"!=column.columnName.toString().toLowerCase()&&"Enabled"==column.searchBuilder.status&&r.push(d),d++}}catch(p){console.log(p)}let u=t.ajax;u.data=void 0!=u.data?u.data:{},u.data.formats=JSON.stringify(l),u.data.columnIndexMap=JSON.stringify(s);let h,b={processing:t.processing,serverSide:t.serverSide,pageLength:i.pageLength,lengthMenu:[[10,25,50,100,250,500,-1],[10,25,50,100,250,500,"All"]],ajax:u,layout:{topStart:{buttons:(h=[],t.buttons.indexOf("pageLength")>=0&&h.push({extend:"pageLength",className:"btnDTExportOptions btn "+t.buttonColorClass}),t.buttons.indexOf("copy")>=0&&1==parseInt(t.permissions.copy)&&h.push({extend:"copy",text:'<i class="fa-regular fa-copy"></i>',titleAttr:"copy",className:"btnDTExportOptions btn "+t.buttonColorClass,footer:!0,title:"",action:DataTableExportOption,exportOptions:{columns:"thead th:not(.noExport)"}}),t.buttons.indexOf("csv")>=0&&1==parseInt(t.permissions.csv)&&h.push({extend:"csv",text:'<i class="fa-solid fa-file-csv"></i>',titleAttr:"Save as csv",className:"btnDTExportOptions btn "+t.buttonColorClass,footer:!0,title:"",action:DataTableExportOption,exportOptions:{columns:"thead th:not(.noExport)"}}),t.buttons.indexOf("excel")>=0&&1==parseInt(t.permissions.excel)&&h.push({extend:"excel",text:'<i class="fa-solid fa-file-excel"></i>',titleAttr:"Save as excel",className:"btnDTExportOptions btn "+t.buttonColorClass,footer:!0,title:"",action:DataTableExportOption,exportOptions:{columns:"thead th:not(.noExport)"}}),t.buttons.indexOf("pdf")>=0&&1==parseInt(t.permissions.pdf)&&h.push({extend:"pdf",text:'<i class="fa-solid fa-file-pdf"></i>',titleAttr:"Save as pdf",className:"btnDTExportOptions btn "+t.buttonColorClass,footer:!0,title:"",action:DataTableExportOption,exportOptions:{columns:"thead th:not(.noExport)"}}),t.buttons.indexOf("print")>=0&&1==parseInt(t.permissions.print)&&h.push({extend:"print",text:'<i class="fa-solid fa-print"></i>',titleAttr:"print",className:"btnDTExportOptions btn "+t.buttonColorClass,footer:!0,title:"",action:DataTableExportOption,exportOptions:{columns:"thead th:not(.noExport)"}}),t.buttons.indexOf("settings")>=0&&h.push({text:'<i class="fa-solid fa-cog"></i>',titleAttr:"Settings",className:"btnDTExportOptions btn "+t.buttonColorClass,init(t,l,a){e(l).removeClass("btn-secondary")},footer:!0,title:"",action:function(e,t,l,a){m()}}),h)}},deferRender:!0,responsive:t.responsive,order:[i.sortingBy,i.sortingOrder],drawCallback:t.drawCallback,createdRow:t.createdRow,footerCallback:t.footerCallback,headerCallback:t.headerCallback,initComplete:t.initComplete,preDrawCallback:t.preDrawCallback,rowCallback:t.rowCallback,searching:"Enabled"===i.isSearchEnabled,bInfo:"Enabled"===i.isPageInfoEnabled,paging:"Enabled"===i.isPaginationEnabled,fixedHeader:!1,scrollX:!1,columnDefs:n};"Enabled"==i.isSearchBuilderEnabled&&(b.layout=void 0==b.layout?{}:b.layout,b.layout.top1="searchBuilder",b.searchBuilder={columns:r},b.language=void 0==b.language?{}:b.language,b.language.searchBuilder={add:void 0!=i.searchBuilderText&&""!=i.searchBuilderText?i.searchBuilderText:"Custom Filter",title:void 0!=i.searchBuilderLabel&&""!=i.searchBuilderLabel?i.searchBuilderLabel:""}),void 0!=t.dom&&null!=t.dom&&""!=t.dom&&(b.dom=t.dom),"Enabled"==i.isFixedHeading&&(b.fixedHeader=!0,b.scrollCollapse=!0,b.scrollY=i.height+"px"),"Enabled"==i.isFixedColumns&&(b.scrollX=!0,b.scrollCollapse=!0,b.responsive=!1,b.fixedColumns={leftColumns:i.fixedColumns.left,rightColumns:i.fixedColumns.right}),o=e(a).dataTable(b)},C=async()=>{await r(),await p(),f()},v={async destroy(){null!=o&&o.DataTable().destroy(),o=null,a=null,e(l).html("")},async reinitialize(){null!=o&&o.DataTable().destroy(),o=null,a=null,e(l).html(""),await p(),f()},async ajaxReload(){o.DataTable().ajax.reload()}};return C(),v}}(jQuery);